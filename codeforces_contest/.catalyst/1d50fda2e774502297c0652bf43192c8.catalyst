{"title":{"en":"C. Count Binary Strings","ru":"C. Посчитайте бинарные строки"},"contestId":"1767","problemIndex":"C","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"512 megabytes","ru":"512 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>You are given an integer $$$n$$$. You have to calculate the number of binary (consisting of characters <span class=\"tex-font-style-tt\">0</span> and/or <span class=\"tex-font-style-tt\">1</span>) strings $$$s$$$ meeting the following constraints.</p><p>For every pair of integers $$$(i, j)$$$ such that $$$1 \\le i \\le j \\le n$$$, an integer $$$a_{i,j}$$$ is given. It imposes the following constraint on the string $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$:</p><ul> <li> if $$$a_{i,j} = 1$$$, all characters in $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$ should be the same; </li><li> if $$$a_{i,j} = 2$$$, there should be at least two different characters in $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$; </li><li> if $$$a_{i,j} = 0$$$, there are no additional constraints on the string $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$. </li></ul><p>Count the number of binary strings $$$s$$$ of length $$$n$$$ meeting the aforementioned constraints. Since the answer can be large, print it modulo $$$998244353$$$.</p>","ru":"<p>Дано целое число $$$n$$$. Вы должны посчитать количество бинарных (состоящих из символов <span class=\"tex-font-style-tt\">0</span> и/или <span class=\"tex-font-style-tt\">1</span>) строк $$$s$$$, удовлетворяющих следующим условиям.</p><p>Для каждой пары целых чисел $$$(i, j)$$$, в которой $$$1 \\le i \\le j \\le n$$$, дано целое число $$$a_{i,j}$$$. Оно соответствует следующему ограничению на строку $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$:</p><ul> <li> если $$$a_{i,j} = 1$$$, все символы в строке $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$ должны быть одинаковыми; </li><li> если $$$a_{i,j} = 2$$$, в подстроке $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$ должна быть хотя бы одна пара различных символов; </li><li> если $$$a_{i,j} = 0$$$, на подстроку $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$ нет ограничений. </li></ul><p>Посчитайте количество бинарных строк $$$s$$$ длины $$$n$$$, удовлетворяющих данным условиям. Так как ответ может быть очень большим, выведите его по модулю $$$998244353$$$.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains one integer $$$n$$$ ($$$2 \\le n \\le 100$$$).</p><p>Then $$$n$$$ lines follow. The $$$i$$$-th of them contains $$$n-i+1$$$ integers $$$a_{i,i}, a_{i,i+1}, a_{i,i+2}, \\dots, a_{i,n}$$$ ($$$0 \\le a_{i,j} \\le 2$$$).</p>","ru":"<div class=\"section-title\">Входные данные</div><p>В первой строке задано одно целое число $$$n$$$ ($$$2 \\le n \\le 100$$$).</p><p>Затем следуют $$$n$$$ строк. В $$$i$$$-й из них задано $$$n-i+1$$$ целых чисел $$$a_{i,i}, a_{i,i+1}, a_{i,i+2}, \\dots, a_{i,n}$$$ ($$$0 \\le a_{i,j} \\le 2$$$).</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>Print one integer — the number of strings meeting the constraints, taken modulo $$$998244353$$$.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите одно целое число — количество строк, удовлетворяющих ограничениям задачи, взятое по модулю $$$998244353$$$.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the first example, the strings meeting the constraints are <span class=\"tex-font-style-tt\">001</span>, <span class=\"tex-font-style-tt\">010</span>, <span class=\"tex-font-style-tt\">011</span>, <span class=\"tex-font-style-tt\">100</span>, <span class=\"tex-font-style-tt\">101</span>, <span class=\"tex-font-style-tt\">110</span>.</p><p>In the second example, the strings meeting the constraints are <span class=\"tex-font-style-tt\">001</span>, <span class=\"tex-font-style-tt\">110</span>.</p>","ru":"<div class=\"section-title\">Примечание</div><p>В первом примере ограничениям соответствуют строки <span class=\"tex-font-style-tt\">001</span>, <span class=\"tex-font-style-tt\">010</span>, <span class=\"tex-font-style-tt\">011</span>, <span class=\"tex-font-style-tt\">100</span>, <span class=\"tex-font-style-tt\">101</span>, <span class=\"tex-font-style-tt\">110</span>.</p><p>Во втором примере ограничениям соответствуют строки <span class=\"tex-font-style-tt\">001</span>, <span class=\"tex-font-style-tt\">110</span>.</p>"},"sampleTestcases":[{"id":1671201715625,"input":"3\n1 0 2\n1 0\n1\n","output":"6\n"},{"id":1671201715626,"input":"3\n1 1 2\n1 0\n1\n","output":"2\n"},{"id":1671201715627,"input":"3\n1 2 1\n1 0\n1\n","output":"0\n"},{"id":1671201715628,"input":"3\n2 0 2\n0 1\n1\n","output":"0\n"}],"submitUrl":"https://codeforces.com/contest/1767/submit","language":"java","isPartOfContest":true}